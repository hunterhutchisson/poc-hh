{"ast":null,"code":"import { LOAD_DROPBOX_DATA } from \"./types\";\nimport axios from 'axios';\nimport { Dropbox } from \"dropbox\";\nexport const loadDropboxData = () => async dispatch => {\n  try {\n    let dbx = new Dropbox({\n      accessToken: 'sl.BAuDa9rsvD6TVigfwU7jc2bs9v9-BYtPVBdaMnPUKisLFzxpCQqC4nI7lZ5KA0oOvSWixLQH3CTPb17_-6eQgxSoUIJV9qKWILaQ2WGfW1yVqrjhpA3j8SlYKlCEGgmV1na3ISg4gKe_'\n    });\n    dbx.filesListFolder({\n      path: ''\n    }).then(function (response) {\n      let paths = response.result.entries.map(file => ({\n        path: file.path_lower\n      }));\n      console.log(paths);\n      dbx.filesGetThumbnailBatch({\n        entries: paths\n      }).then(res => {\n        console.log(res.result.entries);\n        dispatch({\n          type: LOAD_DROPBOX_DATA,\n          data: {\n            fileArray: response.result.entries,\n            thumbnail: res.result.entries.thumbnail\n          }\n        });\n      });\n    }).catch(function (error) {\n      console.error(error);\n    });\n  } catch (err) {\n    console.log('err:', err);\n  }\n};","map":{"version":3,"sources":["/Users/hunterhutchisson/inerg/poc-hh/src/actions/index.js"],"names":["LOAD_DROPBOX_DATA","axios","Dropbox","loadDropboxData","dispatch","dbx","accessToken","filesListFolder","path","then","response","paths","result","entries","map","file","path_lower","console","log","filesGetThumbnailBatch","res","type","data","fileArray","thumbnail","catch","error","err"],"mappings":"AACA,SAASA,iBAAT,QAAkC,SAAlC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT,QAAwB,SAAxB;AAEA,OAAO,MAAMC,eAAe,GAAG,MAAM,MAAMC,QAAN,IAAkB;AACnD,MAAG;AACC,QAAIC,GAAG,GAAG,IAAIH,OAAJ,CAAY;AAClBI,MAAAA,WAAW,EAAE;AADK,KAAZ,CAAV;AAIAD,IAAAA,GAAG,CAACE,eAAJ,CAAoB;AAACC,MAAAA,IAAI,EAAE;AAAP,KAApB,EACCC,IADD,CACM,UAASC,QAAT,EAAmB;AACrB,UAAIC,KAAK,GAAGD,QAAQ,CAACE,MAAT,CAAgBC,OAAhB,CAAwBC,GAAxB,CAA4BC,IAAI,KAAI;AAC5CP,QAAAA,IAAI,EAAEO,IAAI,CAACC;AADiC,OAAJ,CAAhC,CAAZ;AAGAC,MAAAA,OAAO,CAACC,GAAR,CAAYP,KAAZ;AACAN,MAAAA,GAAG,CAACc,sBAAJ,CAA2B;AACvBN,QAAAA,OAAO,EAAEF;AADc,OAA3B,EAEGF,IAFH,CAEQW,GAAG,IAAI;AACXH,QAAAA,OAAO,CAACC,GAAR,CAAYE,GAAG,CAACR,MAAJ,CAAWC,OAAvB;AACAT,QAAAA,QAAQ,CAAC;AACLiB,UAAAA,IAAI,EAAErB,iBADD;AAELsB,UAAAA,IAAI,EAAE;AACFC,YAAAA,SAAS,EAAEb,QAAQ,CAACE,MAAT,CAAgBC,OADzB;AAEFW,YAAAA,SAAS,EAAEJ,GAAG,CAACR,MAAJ,CAAWC,OAAX,CAAmBW;AAF5B;AAFD,SAAD,CAAR;AAOH,OAXD;AAaH,KAnBD,EAoBCC,KApBD,CAoBO,UAASC,KAAT,EAAgB;AACrBT,MAAAA,OAAO,CAACS,KAAR,CAAcA,KAAd;AACD,KAtBD;AAwBH,GA7BD,CA6BE,OAAMC,GAAN,EAAU;AACRV,IAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ,EAAoBS,GAApB;AACH;AACJ,CAjCM","sourcesContent":["\nimport { LOAD_DROPBOX_DATA } from \"./types\"\nimport axios from 'axios'\nimport { Dropbox } from \"dropbox\"\n\nexport const loadDropboxData = () => async dispatch => {\n    try{\n        let dbx = new Dropbox({ \n            accessToken: 'sl.BAuDa9rsvD6TVigfwU7jc2bs9v9-BYtPVBdaMnPUKisLFzxpCQqC4nI7lZ5KA0oOvSWixLQH3CTPb17_-6eQgxSoUIJV9qKWILaQ2WGfW1yVqrjhpA3j8SlYKlCEGgmV1na3ISg4gKe_',\n            \n          });\n        dbx.filesListFolder({path: ''})\n        .then(function(response) {\n            let paths = response.result.entries.map(file =>({\n                path: file.path_lower,\n            }))\n            console.log(paths);\n            dbx.filesGetThumbnailBatch({\n                entries: paths\n            }).then(res => {\n                console.log(res.result.entries);\n                dispatch({\n                    type: LOAD_DROPBOX_DATA,\n                    data: {\n                        fileArray: response.result.entries,\n                        thumbnail: res.result.entries.thumbnail\n                    }\n                })\n            })\n            \n        })\n        .catch(function(error) {\n          console.error(error);\n        });\n\n    } catch(err){\n        console.log('err:', err)\n    }\n}\n\n\n\n"]},"metadata":{},"sourceType":"module"}